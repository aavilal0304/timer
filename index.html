<html>

<head></head>

<body>
    <div id="main" role="main">
        <div id="logo"><a href="http://www.ebay.com"><span role="img" aria-label="eBay"></span></a></div>
        <style>
            .countdown[role="status"][aria-live="polite"] {
                color: #cc3300;
            }
            .timer * {
                box-sizing: border-box;
            }
            .countdown {
                font-size: 0px;
            }
            .countdown span {
                display: inline;
                margin: 0px;
                padding: 0px;
                font-size: 16px;
            }
        </style>

        <h1>Time</h1>

        <h2 class="clipped">Readme</h2>

        <p>Please <a href="https://ebay.gitbook.io/mindpatterns//messaging/time.html">read the documentation</a> to
            understand how these examples were created.</p>

        <hr>

        <h2 class="clipped">Examples</h2>

        <h3>Example 1: Countdown Status</h3>
        <p>Status will flash red and announce every ten seconds until time reaches 0.</p>
        <div class="timer">
            <span>
                <p class="countdown" role="timer" aria-live="off" aria-label="Ends in 07:03">
                    <!--span>Seconds Left: </span-->
                    <!--span class="countdown__secs">80</span-->
                    <span>Ends in </span>
                    <span id="65" class="hidex">22</span>
                    <span id="87" class="hide">m </span>
                    <span id="12" class="countdown__secs">59</span>
                    <span id="34" class="showInline">s </span>
                </p>
            </span>
        </div>

        <hr>

        <p><i>Updated</i>: May 25th, 2019</p>

        <script>
            var alertIntervalMs = 10000;
            var timerIntervalMs = 1000;
            var countdownEl = document.querySelector('.countdown');
            var secondsEl = document.querySelector('.countdown__secs');
            var minsEl = document.querySelector('.hidex');
            var timerInterval
            var alertInterval;
            //var timeGlobal = 59;
            setTimeout(function () {
                countdownEl.setAttribute('aria-live', 'off');
            }, 1000);

            timerInterval = setInterval(function () {
                var seconds = parseInt(secondsEl.innerText, 10);
                //var seconds = timeGlobal;
                if (seconds === 0) {
                    clearInterval(timerInterval);
                    clearInterval(alertInterval);
                } else {
                    timeGlobal = --seconds;
                    //secondsEl.innerText = 'Ends in 20m ' + timeGlobal + 's';
                    secondsEl.innerText = --seconds
                    minsEl.innerText = seconds * 2;
                }
            }, timerIntervalMs);

            alertInterval = setInterval(function () {
                countdownEl.setAttribute('aria-live', 'assertive');
                setTimeout(function () {
                    countdownEl.setAttribute('aria-live', 'off');
                }, 1000);
            }, alertIntervalMs);
        </script>


    </div>
</body>


</html>